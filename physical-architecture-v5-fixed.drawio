<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" compressed="false" version="28.2.0" pages="4">
  <diagram id="physical-arch-v5-fixed" name="Physical Architecture V5 (fixed)">
    <mxGraphModel dx="1920" dy="1080" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" background="#FFFFFF" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="Developer Portal and Sandbox - Physical V5" style="text;html=1;align=center;verticalAlign=middle;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="480" y="10" width="960" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ctrl" value="Control Plane" style="swimlane;horizontal=0;rounded=1;html=1;startSize=24;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="20" y="60" width="360" height="220" as="geometry" />
        </mxCell>
        <mxCell id="nsMgr" value="Namespace Manager&#xa;(create namespaces, seed data, TTL)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d6b656;fillColor=#ffffff" vertex="1" parent="ctrl">
          <mxGeometry x="20" y="40" width="320" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ci" value="CI Content Pipeline" style="swimlane;horizontal=0;rounded=1;html=1;startSize=24;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="400" y="60" width="540" height="220" as="geometry" />
        </mxCell>
        <mxCell id="ci1" value="Extract OpenAPI and Docs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d6b656;fillColor=#ffffff" vertex="1" parent="ci">
          <mxGeometry x="20" y="40" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ci2" value="Build Embeddings" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d6b656;fillColor=#ffffff" vertex="1" parent="ci">
          <mxGeometry x="200" y="40" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ci3" value="Update Vector Store" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d6b656;fillColor=#ffffff" vertex="1" parent="ci">
          <mxGeometry x="380" y="40" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="portal" value="Portal Cluster" style="swimlane;horizontal=0;rounded=1;html=1;startSize=24;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="20" y="300" width="700" height="460" as="geometry" />
        </mxCell>
        <mxCell id="portalUI" value="Portal UI (docs, explorer, keys)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="20" y="40" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="assistantUI" value="LLM Assistant UI" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="240" y="40" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="portalAPI" value="Portal API" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="460" y="40" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mcp" value="MCP Server" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="20" y="120" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="specSvc" value="Spec Service" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="240" y="120" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="scenarioSvc" value="Scenario Service" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="460" y="120" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="obsProxy" value="Observability Proxy" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="20" y="200" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="codegen" value="Codegen Service" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="240" y="200" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cache" value="Redis Cache" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#f5f5f5" vertex="1" parent="portal">
          <mxGeometry x="460" y="200" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vectordb" value="Vector Store" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#f5f5f5" vertex="1" parent="portal">
          <mxGeometry x="20" y="280" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="llmRuntime" value="LLM Runtime" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#f5f5f5" vertex="1" parent="portal">
          <mxGeometry x="240" y="280" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iam" value="Service accounts and IAM roles (scoped per service)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff;fontSize=10" vertex="1" parent="portal">
          <mxGeometry x="460" y="280" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="sbx" value="Sandbox Cluster" style="swimlane;horizontal=0;rounded=1;html=1;startSize=24;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="740" y="300" width="700" height="460" as="geometry" />
        </mxCell>
        <mxCell id="ingress" value="Ingress and DNS" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#ffffff" vertex="1" parent="sbx">
          <mxGeometry x="20" y="40" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="apiPods" value="API Pods" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#ffffff" vertex="1" parent="sbx">
          <mxGeometry x="240" y="40" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="scenarioEngine" value="Scenario Engine" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#ffffff" vertex="1" parent="sbx">
          <mxGeometry x="460" y="40" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="webhookEmitter" value="Webhook Emitter" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#ffffff" vertex="1" parent="sbx">
          <mxGeometry x="20" y="120" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="db" value="Database (schema per namespace)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#f5f5f5" vertex="1" parent="sbx">
          <mxGeometry x="240" y="120" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="obsCollector" value="Observability Collector" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#f5f5f5" vertex="1" parent="sbx">
          <mxGeometry x="20" y="200" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e1" edge="1" parent="1" source="portalAPI" target="ingress" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e1lbl" value="API calls" style="text;html=1;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="730" y="360" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="e2a" edge="1" parent="1" source="mcp" target="specSvc" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e2b" edge="1" parent="1" source="mcp" target="scenarioSvc" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e2c" edge="1" parent="1" source="mcp" target="obsProxy" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e2d" edge="1" parent="1" source="mcp" target="codegen" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e3" edge="1" parent="1" source="obsCollector" target="obsProxy" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1;dashed=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e4" edge="1" parent="1" source="ci2" target="ci3" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e5" edge="1" parent="1" source="ci3" target="vectordb" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="5e848TuGaH52lrfml-eZ" name="Page-2">
    <mxGraphModel dx="3330" dy="1745" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Physical Architecture V5 (fixed)" id="bsl7J4z9vA1xUPx2NLWN">
    <mxGraphModel dx="1920" dy="1080" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" background="#FFFFFF" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="Developer Portal and Sandbox - Physical V5" style="text;html=1;align=center;verticalAlign=middle;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="480" y="10" width="960" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ctrl" value="Control Plane" style="swimlane;horizontal=0;rounded=1;html=1;startSize=24;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="20" y="60" width="360" height="220" as="geometry" />
        </mxCell>
        <mxCell id="nsMgr" value="Namespace Manager&#xa;(create namespaces, seed data, TTL)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d6b656;fillColor=#ffffff" vertex="1" parent="ctrl">
          <mxGeometry x="20" y="40" width="320" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ci" value="CI Content Pipeline" style="swimlane;horizontal=0;rounded=1;html=1;startSize=24;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="400" y="60" width="540" height="220" as="geometry" />
        </mxCell>
        <mxCell id="ci1" value="Extract OpenAPI and Docs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d6b656;fillColor=#ffffff" vertex="1" parent="ci">
          <mxGeometry x="20" y="40" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ci2" value="Build Embeddings" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d6b656;fillColor=#ffffff" vertex="1" parent="ci">
          <mxGeometry x="200" y="40" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ci3" value="Update Vector Store" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d6b656;fillColor=#ffffff" vertex="1" parent="ci">
          <mxGeometry x="380" y="40" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="portal" value="Portal Cluster" style="swimlane;horizontal=0;rounded=1;html=1;startSize=24;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="20" y="300" width="700" height="460" as="geometry" />
        </mxCell>
        <mxCell id="portalUI" value="Portal UI (docs, explorer, keys)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="20" y="40" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="assistantUI" value="LLM Assistant UI" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="240" y="40" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="portalAPI" value="Portal API" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="460" y="40" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mcp" value="MCP Server" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="20" y="120" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="specSvc" value="Spec Service" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="240" y="120" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="scenarioSvc" value="Scenario Service" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="460" y="120" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="obsProxy" value="Observability Proxy" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="20" y="200" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="codegen" value="Codegen Service" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff" vertex="1" parent="portal">
          <mxGeometry x="240" y="200" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cache" value="Redis Cache" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#f5f5f5" vertex="1" parent="portal">
          <mxGeometry x="460" y="200" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vectordb" value="Vector Store" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#f5f5f5" vertex="1" parent="portal">
          <mxGeometry x="20" y="280" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="llmRuntime" value="LLM Runtime" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#f5f5f5" vertex="1" parent="portal">
          <mxGeometry x="240" y="280" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iam" value="Service accounts and IAM roles (scoped per service)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#ffffff;fontSize=10" vertex="1" parent="portal">
          <mxGeometry x="460" y="280" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="sbx" value="Sandbox Cluster" style="swimlane;horizontal=0;rounded=1;html=1;startSize=24;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="740" y="300" width="700" height="460" as="geometry" />
        </mxCell>
        <mxCell id="ingress" value="Ingress and DNS" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#ffffff" vertex="1" parent="sbx">
          <mxGeometry x="20" y="40" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="apiPods" value="API Pods" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#ffffff" vertex="1" parent="sbx">
          <mxGeometry x="240" y="40" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="scenarioEngine" value="Scenario Engine" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#ffffff" vertex="1" parent="sbx">
          <mxGeometry x="460" y="40" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="webhookEmitter" value="Webhook Emitter" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#ffffff" vertex="1" parent="sbx">
          <mxGeometry x="20" y="120" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="db" value="Database (schema per namespace)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#f5f5f5" vertex="1" parent="sbx">
          <mxGeometry x="240" y="120" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="obsCollector" value="Observability Collector" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#f5f5f5" vertex="1" parent="sbx">
          <mxGeometry x="20" y="200" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="e1" edge="1" parent="1" source="portalAPI" target="ingress" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e1lbl" value="API calls" style="text;html=1;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="730" y="360" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="e2a" edge="1" parent="1" source="mcp" target="specSvc" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e2b" edge="1" parent="1" source="mcp" target="scenarioSvc" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e2c" edge="1" parent="1" source="mcp" target="obsProxy" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e2d" edge="1" parent="1" source="mcp" target="codegen" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e3" edge="1" parent="1" source="obsCollector" target="obsProxy" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1;dashed=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e4" edge="1" parent="1" source="ci2" target="ci3" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e5" edge="1" parent="1" source="ci3" target="vectordb" style="edgeStyle=orthogonalEdgeStyle;rounded=1;endArrow=block;endFill=1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Page-2" id="ZxxeLorktNC-BoSIDBLS">
    <mxGraphModel dx="3330" dy="1745" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
